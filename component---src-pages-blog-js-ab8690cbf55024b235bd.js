(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{vx99:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a.n(n),o=a("8k0H"),i=a("F5Ag"),l=a("Eg6Q"),d=a("e+rj"),c=a("KQm4"),s=a("dI71"),g=a("qg/Q"),p=a("vOnD"),m=a("oTwq");let u=function(e){function t(){return e.apply(this,arguments)||this}Object(s.a)(t,e);var a=t.prototype;return a.componentWillReceiveProps=function(e){e.inView&&!e.loading&&e.onLoad(),e.loading&&!e.inView&&e.loadOff()},a.render=function(){const{refLink:e,inView:t}=this.props;return r.a.createElement("div",{ref:e,style:{height:"100px"}})},t}(n.Component);var h=a("PGlZ"),f=a("lqS3");const{DESKTOP:w,TABLET:E}=m.a,b=p.c.div`
  padding: 5rem;
  text-align: center;
  grid-column: center-start / center-end;
  text-align: initial;
  display: grid;
  grid-template-columns: 1fr;
  @media (max-width: ${w}px) {
    grid-template-columns: 1fr;
  }
  @media (max-width: ${E}px) {
  grid-column: 1 / -1;
  }
`;function v(e){var t=Math.floor((new Date-e)/1e3),a=Math.floor(t/31536e3);return a>1?a+" год(а)":(a=Math.floor(t/2592e3))>=1?a+" "+(1===a?"месяц":" месяц(а, ев)"):(a=Math.floor(t/86400))>=1?a+" "+(1===a?"день":"дн(я, ей)"):(a=Math.floor(t/3600))>=1?a+" "+(1===a?"час":" час(а, ов)"):(a=Math.floor(t/60))>=1?a+" "+(1===a?" минута":" минут(а, ы)"):Math.floor(t)+" секунд(ы)"}let L=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={page:1,chunksPerPage:2,allLoaded:!1,loading:!1},t.renderPosts=(e,a)=>{var n=Object(c.a)(e);let{page:o,chunksPerPage:i}=t.state;return Object(c.a)(n.splice(0,o*i)).map(e=>{let{node:t}=e;return n=v(new Date(t.createdAt)),r.a.createElement(g.a,{key:t.id,date:n,description:t.description.description,multiImage:a,imageArr:t.imageTest,image:t.image,title:t.title})})},t.onLoad=()=>{let{page:e,chunksPerPage:a}=t.state,{posts:n}=t.props,r=(e+1)*a>=n.length;t.setState({page:e+1,allLoaded:r,loading:!0})},t}return Object(s.a)(t,e),t.prototype.render=function(){const{posts:e,multiImage:t}=this.props,{allLoaded:a,loading:n}=this.state;return r.a.createElement(b,null,e&&this.renderPosts(e,t),r.a.createElement(f.c,{height:"4rem",width:"80%",margin:"auto",onClick:this.onLoad,disabled:a},r.a.createElement("span",null,"Загрузить еще")),r.a.createElement(h.a,null,e=>{let{inView:t,ref:a}=e;return r.a.createElement(u,{inView:t,refLink:a,onLoad:this.onLoad,loading:n,loadOff:()=>this.setState({loading:!1})})}))},t}(n.Component);t.default=e=>{let{data:t}=e;return r.a.createElement(o.a,{header:"small"},r.a.createElement(i.a,{description:"Узи Центрум Мелитополь Блог",pageTitle:"Head"}),r.a.createElement(l.a,{bg:t.blog.header,to:"contact/#blog"},r.a.createElement(d.c,null,"Наш Блог")),r.a.createElement(L,{posts:t.blogs.edges,multiImage:t.blog.multiImage}))}}}]);
//# sourceMappingURL=component---src-pages-blog-js-ab8690cbf55024b235bd.js.map