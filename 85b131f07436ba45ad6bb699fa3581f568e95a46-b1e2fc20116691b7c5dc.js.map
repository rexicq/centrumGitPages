{"version":3,"sources":["webpack:///./src/components/header/header.css.js","webpack:///./src/components/header/header.js","webpack:///./src/components/modal/modal.css.js","webpack:///./node_modules/@reach/component-component/es/index.js","webpack:///./node_modules/@reach/portal/es/index.js","webpack:///./node_modules/@reach/utils/es/index.js","webpack:///./node_modules/focus-lock/dist/es2015/utils/array.js","webpack:///./node_modules/focus-lock/dist/es2015/utils/tabOrder.js","webpack:///./node_modules/focus-lock/dist/es2015/utils/tabbables.js","webpack:///./node_modules/focus-lock/dist/es2015/constants.js","webpack:///./node_modules/focus-lock/dist/es2015/utils/tabUtils.js","webpack:///./node_modules/focus-lock/dist/es2015/utils/DOMutils.js","webpack:///./node_modules/focus-lock/dist/es2015/utils/firstFocus.js","webpack:///./node_modules/focus-lock/dist/es2015/utils/all-affected.js","webpack:///./node_modules/focus-lock/dist/es2015/focusMerge.js","webpack:///./node_modules/focus-lock/dist/es2015/setFocus.js","webpack:///./node_modules/focus-lock/dist/es2015/index.js","webpack:///./node_modules/react-clientside-effect/lib/index.es.js","webpack:///./node_modules/focus-lock/dist/es2015/focusIsHidden.js","webpack:///./node_modules/focus-lock/dist/es2015/focusInside.js","webpack:///./node_modules/react-focus-lock/dist/es2015/util.js","webpack:///./node_modules/react-focus-lock/dist/es2015/Trap.js","webpack:///./node_modules/react-focus-lock/dist/es2015/FocusGuard.js","webpack:///./node_modules/react-focus-lock/dist/es2015/Lock.js","webpack:///./node_modules/react-focus-lock/dist/es2015/index.js","webpack:///./node_modules/react-style-singleton/dist/es2015/singlentone.js","webpack:///./node_modules/react-style-singleton/dist/es2015/component.js","webpack:///./node_modules/react-remove-scroll-bar/dist/es2015/utils.js","webpack:///./node_modules/react-remove-scroll-bar/dist/es2015/component.js","webpack:///./node_modules/react-remove-scroll/dist/es2015/handleScroll.js","webpack:///./node_modules/react-remove-scroll/dist/es2015/aggresiveCapture.js","webpack:///./node_modules/react-remove-scroll/dist/es2015/component.js","webpack:///./node_modules/react-remove-scroll-bar/dist/es2015/constants.js","webpack:///./node_modules/@reach/dialog/es/index.js","webpack:///./node_modules/@reach/visually-hidden/es/index.js","webpack:///./src/components/modal/modal.js","webpack:///./src/containers/modal/modal.js"],"names":["DESKTOP","TABLET","PHONE","breakpoints","ScrollButtonDown","styled","BackgroundSection","ScrollButton","SecondaryContainer","div","AnimatedContainer","posed","header","_Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","loading","_inheritsLoose","_proto","prototype","componentDidMount","this","setState","render","to","nav","children","inView","refLink","bg","image","Scroll","props","React","createElement","styleName","title","img","overlayColor","toRgba","hex","Colors","primaryColorDarkest","opacity","pose","ref","aria-label","Component","Button","button","_ref","padding","primaryColorLighten","Close","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","cleanProps","initialState","getInitialState","refs","getRefs","didMount","didUpdate","willUnmount","getSnapshotBeforeUpdate","shouldUpdate","obj","keys","target","i","indexOf","Object","hasOwnProperty","_objectWithoutProperties","_React$Component","_temp","_initialiseProps","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_inherits","getArgs","_setState","forceUpdate","_forceUpdate","_refs","shouldComponentUpdate","nextProps","nextState","componentWillUnmount","componentDidUpdate","prevProps","prevState","snapshot","assign","_props","defaultProps","_this2","_ref$type","type","undefined","mountNode","portalNode","_ref2","ownerDocument","body","appendChild","_ref3","removeChild","_ref4","wrapEvent","theirHandler","ourHandler","event","defaultPrevented","assignRef","current","error","Error","toArray","a","ret","asArray","isArray","tabSort","b","tabDiff","tabIndex","indexDiff","index","nodes","filterNegative","keepGuards","map","node","dataset","focusGuard","filter","data","sort","FOCUS_GROUP","FOCUS_DISABLED","FOCUS_ALLOW","FOCUS_AUTO","queryTabbables","tabbables","join","queryGuardTabbables","parents","withGuards","reduce","acc","parent","querySelectorAll","parentNode","getParents","push","getCommonParent","nodea","nodeb","parentsA","parentsB","currentParent","isVisible","document","nodeType","Node","DOCUMENT_NODE","computedStyle","window","getComputedStyle","getPropertyValue","tagName","disabled","notHiddenInput","topNodes","topNode","parentFocus","isRadio","findSelectedRadio","el","name","checked","pickFocusable","_typeof","Symbol","iterator","Boolean","currentNode","group","getAttribute","filterNested","l","_loop","j","contains","v","x","_ret","getTopParent","isGuard","notAGuard","baseActiveElement","leftEntry","rightEntries","activeElements","leftEntries","activeElement","topCommon","forEach","entry","subEntry","common","lastNode","entries","commonParent","innerElements","_ref5","srcNodes","dstNodes","remap","autoFocusables","outerNodes","_ref6","orderedInnerElements","Map","entity","set","get","innerNodes","_ref7","newId","autoFocused","cnt","firstFocus","lastFocus","isOnGuard","activeIndex","lastIndex","lastNodeInside","firstNodeIndex","lastNodeIndex","returnFirstNode","returnLastNode","Math","abs","autofocus","guardCount","lockDisabled","focusable","console","setTimeout","focus","contentWindow","some","focusInFrame","frame","result","array","search","deferAction","action","setImmediate","lastActiveTrap","lastActiveFocus","lastPortaledElement","focusWasOutsideWindow","defaultWhitelist","autoGuard","startIndex","end","step","allNodes","lastGuard","item","guard","focusAutoGuard","lockItem","extractRef","element","_lastActiveTrap","observed","persistentFocus","autoFocus","shards","workingNode","portaledElement","workingArea","whiteList","focusWhitelisted","blur","newActiveElement","focusedItem","find","removeAttribute","focusedIndex","onTrap","stopPropagation","preventDefault","onFocus","source","currentTarget","observerNode","onWindowBlur","reducePropsToState","handleStateChangeOnClient","WrappedComponent","mountedInstances","emitChange","SideEffect","_PureComponent","peek","splice","displayName","getDisplayName","propsList","slice","trap","addEventListener","lastTrap","sameTrap","onActivation","onDeactivation","removeEventListener","hiddenGuard","width","height","overflow","position","top","left","Fragment","key","style","emptyArray","FocusLock","originalFocusedElement","isActive","returnFocus","_extends2","_this$props","noFocusGuards","allowTextSelection","className","_this$props$shards","_this$props$as","as","Container","_this$props$lockProps","lockProps","containerProps","hasLeadingGuards","hasTailingGuards","setObserveNode","onBlur","sheet","zeroGap","right","gap","parse","parseInt","getGapWidth","gapMode","offsets","cs","getOffset","documentWidth","documentElement","clientWidth","windowWidth","innerWidth","max","Style","counter","stylesheet","add","tag","css","makeStyleTag","styleSheet","cssText","createTextNode","head","getElementsByTagName","insertStyleTag","remove","stylesheetSinglentone","_super","Sheet","styles","getStyles","_a","allowRelative","important","RemoveScrollBar","onResize","dynamic","innerHeight","offsetHeight","setGap","noRelative","noImportant","_b","elementCouldBeScrolled","overflowY","overflowX","handleScroll","endTarget","sourceDelta","delta","targetInLock","shouldCancelScroll","isDeltaPositive","availableScroll","availableScrollTop","scrollTop","elementScroll","scrollHeight","clientHeight","passiveSupported","options","defineProperty","err","aggressive","passive","getTouchY","changedTouches","clientY","classNames","fullWidth","zeroRight","RemoveScroll","shouldPreventQueue","touchStart","shouldPrevent","stack","enabled","deltaY","sourceEvent","e","should","shardNodes","shouldCancelEvent","noIsolation","shouldCancel","scrollTouchStart","scrollWheel","scrollTouchMove","inst","disable","oldProps","enable","forwardProps","removeScrollBar","onScrollCapture","onWheelCapture","onTouchMoveCapture","only","_extends","k","portalDidMount","dialogNode","originalValues","rootNodes","disposeAriaHider","overlayNode","attr","setAttribute","originalValue","contentWillUnmount","DialogOverlay","createContext","forwardRef","forwardedRef","_ref2$isOpen","isOpen","_ref2$onDismiss","onDismiss","initialFocusRef","onClick","onKeyDown","DialogContent","border","clip","margin","Modal","open","hideModal","hideWindow","onClose","showWindow","showModal","disableScrolling","styleProps","updateChildrenWithProps","Children","child","cloneElement","display","marginTop","VisuallyHidden","aria-hidden","PureComponent","ModalContainer","opened","showModals","hideModals","Consumer"],"mappings":"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","file":"85b131f07436ba45ad6bb699fa3581f568e95a46-b1e2fc20116691b7c5dc.js","sourcesContent":["import styled from \"styled-components\";\nimport { BackgroundSection, ScrollButton } from \"../utils\";\nimport breakpoints from \"../../constants/breakpoints\";\n\nconst { DESKTOP, TABLET, PHONE } = breakpoints;\nexport const Container = styled(BackgroundSection)`\n  animation: none;\n`;\n\nexport const ScrollButtonDown = styled(ScrollButton)`\n  @media (max-width: ${DESKTOP}px) {\n    margin-bottom: 1rem;\n  }\n  @media (max-width: ${TABLET}px) {\n    margin-bottom: 3rem;\n  }\n  @media (max-width: ${PHONE}px) {\n    margin-bottom: 5rem;\n  }\n`;\n\nexport const SecondaryContainer = styled.div`\n  opacity: 1;\n  padding: 7rem;\n  @media (max-width: ${DESKTOP}px) {\n    padding: 2rem;\n  }\n  grid-column: 2 / 3;\n  grid-row: 2 / 3;\n  justify-self: center;\n  display: grid;\n  justify-content: center;\n  align-content: center;\n  z-index: 5;\n`;\n","import React, { Component } from \"react\";\nimport { Container, SecondaryContainer, ScrollButtonDown } from \"./header.css\";\nimport { Colors } from \"../../constants/theme\";\nimport { toRgba } from \"../../helpers/toRgba\";\nimport { ScrollButton, BackgroundSection } from \"../utils\";\nimport posed from \"react-pose\";\n\nconst AnimatedContainer = posed(SecondaryContainer)({\n  // init: {\n  //   y: \"-100%\",\n  //   transition: {\n  //     ease: \"easeInOut\"\n  //   }\n  // },\n  // loaded: {\n  //   y: 0,\n  //   opacity: 1,\n  //   delay: 500,\n  //   transition: {\n  //     duration: 500,\n  //     ease: \"easeInOut\"\n  //   }\n  // },\n  // initial: {\n  //   y: \"-100%\",\n  //   transition: {\n  //     ease: \"easeInOut\"\n  //   }\n  // }\n});\n\nexport default class header extends Component {\n  state = {\n    loading: \"initial\"\n  };\n  componentDidMount() {\n    this.setState({\n      loading: \"loaded\"\n    });\n  }\n  render() {\n    const {\n      to,\n      nav,\n      children,\n      inView,\n      refLink,\n      bg: { image, header },\n      Scroll\n    } = this.props;\n    return (\n      <BackgroundSection\n        styleName={\"imgbg headerbg\"}\n        title={header}\n        img={image}\n        overlayColor={`${toRgba({\n          hex: Colors.primaryColorDarkest,\n          opacity: \"0.65\"\n        })}`}\n      >\n        <AnimatedContainer\n          pose={nav ? \"initial\" : this.state.loading}\n          ref={refLink}\n        >\n          {children}\n        </AnimatedContainer>\n        {Scroll && <ScrollButtonDown aria-label=\"Scroll Button\" to={`${to}`} />}\n      </BackgroundSection>\n    );\n  }\n}\n","import styled from 'styled-components';\nimport { Colors } from '../../constants/theme';\n\nexport const Button = styled.button`\n  -webkit-appearance: none;\n  background-color: #fff;\n  width: 100%;\n  height: 100%;\n  border: none;\n  color: ${Colors.primaryColorDarkest};\n  border-bottom: 1px solid #ddd;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 1.3rem;\n  font-weight: 500;\n  padding: ${({padding}) => padding};\n  text-transform: uppercase;\n  transition: 0.2s background-color ease;\n  &:active,\n  &:focus {\n    outline: none;\n  }\n  &:hover {    \n  border-bottom: 1px solid ${Colors.primaryColorLighten};\n  }\n  & + & {\n    margin-left: 1rem;\n  }\n`;\n\nexport const Close = styled.button`\n  -webkit-appearance: none;\n  background-color: transparent;\n  outline: none;\n  border: none;\n  font-family: inherit;\n  font-size: 6rem;\n  font-weight: normal;\n  line-height: 4rem;\n  position: absolute;\n  top: 0rem;\n  right: 0rem;\n  color: black;\n`;\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n  return target;\n}\nimport React from \"react\";\nimport { object, func, oneOfType, node } from \"prop-types\";\nvar cleanProps = function cleanProps(props) {\n  var initialState = props.initialState,\n    getInitialState = props.getInitialState,\n    refs = props.refs,\n    getRefs = props.getRefs,\n    didMount = props.didMount,\n    didUpdate = props.didUpdate,\n    willUnmount = props.willUnmount,\n    getSnapshotBeforeUpdate = props.getSnapshotBeforeUpdate,\n    shouldUpdate = props.shouldUpdate,\n    render = props.render,\n    rest = _objectWithoutProperties(props, [\"initialState\", \"getInitialState\", \"refs\", \"getRefs\", \"didMount\", \"didUpdate\", \"willUnmount\", \"getSnapshotBeforeUpdate\", \"shouldUpdate\", \"render\"]);\n  return rest;\n};\nvar Component = function (_React$Component) {\n  _inherits(Component, _React$Component);\n  function Component() {\n    var _temp, _this, _ret;\n    _classCallCheck(this, Component);\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _initialiseProps.call(_this), _temp), _possibleConstructorReturn(_this, _ret);\n  }\n  Component.prototype.getArgs = function getArgs() {\n    var state = this.state,\n      props = this.props,\n      setState = this._setState,\n      forceUpdate = this._forceUpdate,\n      refs = this._refs;\n    return {\n      state: state,\n      props: cleanProps(props),\n      refs: refs,\n      setState: setState,\n      forceUpdate: forceUpdate\n    };\n  };\n  Component.prototype.componentDidMount = function componentDidMount() {\n    if (this.props.didMount) this.props.didMount(this.getArgs());\n  };\n  Component.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    if (this.props.shouldUpdate) return this.props.shouldUpdate({\n      props: this.props,\n      state: this.state,\n      nextProps: cleanProps(nextProps),\n      nextState: nextState\n    });else return true;\n  };\n  Component.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.props.willUnmount) this.props.willUnmount({\n      state: this.state,\n      props: cleanProps(this.props),\n      refs: this._refs\n    });\n  };\n  Component.prototype.componentDidUpdate = function componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.props.didUpdate) this.props.didUpdate(Object.assign(this.getArgs(), {\n      prevProps: cleanProps(prevProps),\n      prevState: prevState\n    }), snapshot);\n  };\n  Component.prototype.getSnapshotBeforeUpdate = function getSnapshotBeforeUpdate(prevProps, prevState) {\n    if (this.props.getSnapshotBeforeUpdate) {\n      return this.props.getSnapshotBeforeUpdate(Object.assign(this.getArgs(), {\n        prevProps: cleanProps(prevProps),\n        prevState: prevState\n      }));\n    } else {\n      return null;\n    }\n  };\n  Component.prototype.render = function render() {\n    var _props = this.props,\n      children = _props.children,\n      render = _props.render;\n    return render ? render(this.getArgs()) : typeof children === \"function\" ? children(this.getArgs()) : children || null;\n  };\n  return Component;\n}(React.Component);\nComponent.defaultProps = {\n  getInitialState: function getInitialState() {},\n  getRefs: function getRefs() {\n    return {};\n  }\n};\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n  this.state = this.props.initialState || this.props.getInitialState(this.props);\n  this._refs = this.props.refs || this.props.getRefs(this.getArgs());\n  this._setState = function () {\n    return _this2.setState.apply(_this2, arguments);\n  };\n  this._forceUpdate = function () {\n    return _this2.forceUpdate.apply(_this2, arguments);\n  };\n};\nprocess.env.NODE_ENV !== \"production\" ? Component.propTypes = {\n  initialState: object,\n  getInitialState: func,\n  refs: object,\n  getRefs: func,\n  didMount: func,\n  didUpdate: func,\n  willUnmount: func,\n  getSnapshotBeforeUpdate: func,\n  shouldUpdate: func,\n  render: func,\n  children: oneOfType([func, node])\n} : void 0;\nexport default Component;","import React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport Component from \"@reach/component-component\";\nvar Portal = function Portal(_ref) {\n  var children = _ref.children,\n    _ref$type = _ref.type,\n    type = _ref$type === undefined ? \"reach-portal\" : _ref$type;\n  return React.createElement(Component, {\n    getRefs: function getRefs() {\n      return {\n        mountNode: null,\n        portalNode: null\n      };\n    },\n    didMount: function didMount(_ref2) {\n      var refs = _ref2.refs,\n        forceUpdate = _ref2.forceUpdate;\n\n      // It's possible that the content we are portal has, itself, been portaled.\n      // In that case, it's important to append to the correct document element.\n      var ownerDocument = refs.mountNode.ownerDocument;\n      refs.portalNode = ownerDocument.createElement(type);\n      ownerDocument.body.appendChild(refs.portalNode);\n      forceUpdate();\n    },\n    willUnmount: function willUnmount(_ref3) {\n      var portalNode = _ref3.refs.portalNode;\n      portalNode.ownerDocument.body.removeChild(portalNode);\n    },\n    render: function render(_ref4) {\n      var refs = _ref4.refs;\n      var portalNode = refs.portalNode;\n      if (!portalNode) {\n        return React.createElement(\"div\", {\n          ref: function ref(div) {\n            return refs.mountNode = div;\n          }\n        });\n      } else {\n        return createPortal(children, portalNode);\n      }\n    }\n  });\n};\nexport default Portal;","var checkedPkgs = {};\nvar checkStyles = function checkStyles() {};\nif (process.env.NODE_ENV !== \"production\") {\n  checkStyles = function checkStyles(pkg) {\n    // only check once per package\n    if (checkedPkgs[pkg]) return;\n    checkedPkgs[pkg] = true;\n    if (parseInt(window.getComputedStyle(document.body).getPropertyValue(\"--reach-\" + pkg), 10) !== 1) {\n      console.warn(\"@reach/\" + pkg + \" styles not found. If you are using a bundler like webpack or parcel include this in the entry file of your app before any of your own styles:\\n\\n    import \\\"@reach/\" + pkg + \"/styles.css\\\";\\n\\n  Otherwise you'll need to include them some other way:\\n\\n    <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"node_modules/@reach/\" + pkg + \"/styles.css\\\" />\\n\\n  For more information visit https://ui.reach.tech/styling.\\n  \");\n    }\n  };\n}\nexport { checkStyles };\nexport var wrapEvent = function wrapEvent(theirHandler, ourHandler) {\n  return function (event) {\n    theirHandler && theirHandler(event);\n    if (!event.defaultPrevented) {\n      return ourHandler(event);\n    }\n  };\n};\nexport var assignRef = function assignRef(ref, value) {\n  if (ref == null) return;\n  if (typeof ref === \"function\") {\n    ref(value);\n  } else {\n    try {\n      ref.current = value;\n    } catch (error) {\n      throw new Error(\"Cannot assign value \\\"\" + value + \"\\\" to ref \\\"\" + ref + \"\\\"\");\n    }\n  }\n};","export var toArray = function toArray(a) {\n  var ret = Array(a.length);\n  for (var i = 0; i < a.length; ++i) {\n    ret[i] = a[i];\n  }\n  return ret;\n};\nexport var arrayFind = function arrayFind(array, search) {\n  return array.filter(function (a) {\n    return a === search;\n  })[0];\n};\nexport var asArray = function asArray(a) {\n  return Array.isArray(a) ? a : [a];\n};","import { toArray } from './array';\nexport var tabSort = function tabSort(a, b) {\n  var tabDiff = a.tabIndex - b.tabIndex;\n  var indexDiff = a.index - b.index;\n  if (tabDiff) {\n    if (!a.tabIndex) return 1;\n    if (!b.tabIndex) return -1;\n  }\n  return tabDiff || indexDiff;\n};\nexport var orderByTabIndex = function orderByTabIndex(nodes, filterNegative, keepGuards) {\n  return toArray(nodes).map(function (node, index) {\n    return {\n      node: node,\n      index: index,\n      tabIndex: keepGuards && node.tabIndex === -1 ? (node.dataset || {}).focusGuard ? 0 : -1 : node.tabIndex\n    };\n  }).filter(function (data) {\n    return !filterNegative || data.tabIndex >= 0;\n  }).sort(tabSort);\n};","export default ['button:enabled:not([readonly])', 'select:enabled:not([readonly])', 'textarea:enabled:not([readonly])', 'input:enabled:not([readonly])', 'a[href]', 'area[href]', 'iframe', 'object', 'embed', '[tabindex]', '[contenteditable]', '[autofocus]'];","export var FOCUS_GROUP = 'data-focus-lock';\nexport var FOCUS_DISABLED = 'data-focus-lock-disabled';\nexport var FOCUS_ALLOW = 'data-no-focus-lock';\nexport var FOCUS_AUTO = 'data-autofocus-inside';","import tabbables from './tabbables';\nimport { toArray } from './array';\nimport { FOCUS_AUTO } from '../constants';\nvar queryTabbables = tabbables.join(',');\nvar queryGuardTabbables = queryTabbables + ', [data-focus-guard]';\nexport var getFocusables = function getFocusables(parents, withGuards) {\n  return parents.reduce(function (acc, parent) {\n    return acc.concat(\n    // add all tabbables inside\n    toArray(parent.querySelectorAll(withGuards ? queryGuardTabbables : queryTabbables)),\n    // add if node is tabble itself\n    parent.parentNode ? toArray(parent.parentNode.querySelectorAll(tabbables.join(','))).filter(function (node) {\n      return node === parent;\n    }) : []);\n  }, []);\n};\nexport var getParentAutofocusables = function getParentAutofocusables(parent) {\n  var parentFocus = parent.querySelectorAll('[' + FOCUS_AUTO + ']');\n  return toArray(parentFocus).map(function (node) {\n    return getFocusables([node]);\n  }).reduce(function (acc, nodes) {\n    return acc.concat(nodes);\n  }, []);\n};","import { orderByTabIndex } from './tabOrder';\nimport { getFocusables, getParentAutofocusables } from './tabUtils';\nimport { toArray } from './array';\nvar isElementHidden = function isElementHidden(computedStyle) {\n  if (!computedStyle || !computedStyle.getPropertyValue) {\n    return false;\n  }\n  return computedStyle.getPropertyValue('display') === 'none' || computedStyle.getPropertyValue('visibility') === 'hidden';\n};\nexport var isVisible = function isVisible(node) {\n  return !node || node === document || node.nodeType === Node.DOCUMENT_NODE || !isElementHidden(window.getComputedStyle(node, null)) && isVisible(node.parentNode);\n};\nexport var notHiddenInput = function notHiddenInput(node) {\n  return !((node.tagName === 'INPUT' || node.tagName === 'BUTTON') && (node.type === 'hidden' || node.disabled));\n};\nvar getParents = function getParents(node) {\n  var parents = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  parents.push(node);\n  if (node.parentNode) {\n    getParents(node.parentNode, parents);\n  }\n  return parents;\n};\nexport var getCommonParent = function getCommonParent(nodea, nodeb) {\n  var parentsA = getParents(nodea);\n  var parentsB = getParents(nodeb);\n  for (var i = 0; i < parentsA.length; i += 1) {\n    var currentParent = parentsA[i];\n    if (parentsB.indexOf(currentParent) >= 0) {\n      return currentParent;\n    }\n  }\n  return false;\n};\nexport var filterFocusable = function filterFocusable(nodes) {\n  return toArray(nodes).filter(function (node) {\n    return isVisible(node);\n  }).filter(function (node) {\n    return notHiddenInput(node);\n  });\n};\nexport var getTabbableNodes = function getTabbableNodes(topNodes, withGuards) {\n  return orderByTabIndex(filterFocusable(getFocusables(topNodes, withGuards)), true, withGuards);\n};\nexport var getAllTabbableNodes = function getAllTabbableNodes(topNodes) {\n  return orderByTabIndex(filterFocusable(getFocusables(topNodes)), false);\n};\nexport var parentAutofocusables = function parentAutofocusables(topNode) {\n  return filterFocusable(getParentAutofocusables(topNode));\n};","var isRadio = function isRadio(node) {\n  return node.tagName === 'INPUT' && node.type === 'radio';\n};\nvar findSelectedRadio = function findSelectedRadio(node, nodes) {\n  return nodes.filter(isRadio).filter(function (el) {\n    return el.name === node.name;\n  }).filter(function (el) {\n    return el.checked;\n  })[0] || node;\n};\nvar pickFirstFocus = function pickFirstFocus(nodes) {\n  if (nodes[0] && nodes.length > 1) {\n    if (isRadio(nodes[0]) && nodes[0].name) {\n      return findSelectedRadio(nodes[0], nodes);\n    }\n  }\n  return nodes[0];\n};\nexport var pickFocusable = function pickFocusable(nodes, index) {\n  if (nodes.length > 1) {\n    if (isRadio(nodes[index]) && nodes[index].name) {\n      return nodes.indexOf(findSelectedRadio(nodes[index], nodes));\n    }\n  }\n  return index;\n};\nexport default pickFirstFocus;","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\nimport { FOCUS_DISABLED, FOCUS_GROUP } from '../constants';\nimport { asArray, toArray } from './array';\nvar filterNested = function filterNested(nodes) {\n  var l = nodes.length;\n  for (var i = 0; i < l; i += 1) {\n    var _loop = function _loop(j) {\n      if (i !== j) {\n        if (nodes[i].contains(nodes[j])) {\n          return {\n            v: filterNested(nodes.filter(function (x) {\n              return x !== nodes[j];\n            }))\n          };\n        }\n      }\n    };\n    for (var j = 0; j < l; j += 1) {\n      var _ret = _loop(j);\n      if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n    }\n  }\n  return nodes;\n};\nvar getTopParent = function getTopParent(node) {\n  return node.parentNode ? getTopParent(node.parentNode) : node;\n};\nvar getAllAffectedNodes = function getAllAffectedNodes(node) {\n  var nodes = asArray(node);\n  return nodes.filter(Boolean).reduce(function (acc, currentNode) {\n    var group = currentNode.getAttribute(FOCUS_GROUP);\n    acc.push.apply(acc, group ? filterNested(toArray(getTopParent(currentNode).querySelectorAll('[' + FOCUS_GROUP + '=\"' + group + '\"]:not([' + FOCUS_DISABLED + '=\"disabled\"])'))) : [currentNode]);\n    return acc;\n  }, []);\n};\nexport default getAllAffectedNodes;","import { getCommonParent, getTabbableNodes, getAllTabbableNodes, parentAutofocusables } from './utils/DOMutils';\nimport pickFirstFocus, { pickFocusable } from './utils/firstFocus';\nimport getAllAffectedNodes from './utils/all-affected';\nimport { asArray } from './utils/array';\nvar findAutoFocused = function findAutoFocused(autoFocusables) {\n  return function (node) {\n    return !!node.autofocus || node.dataset && !!node.dataset.autofocus || autoFocusables.indexOf(node) >= 0;\n  };\n};\nvar isGuard = function isGuard(node) {\n  return node && node.dataset && node.dataset.focusGuard;\n};\nvar notAGuard = function notAGuard(node) {\n  return !isGuard(node);\n};\nexport var newFocus = function newFocus(innerNodes, outerNodes, activeElement, lastNode, autoFocused) {\n  var cnt = innerNodes.length;\n  var firstFocus = innerNodes[0];\n  var lastFocus = innerNodes[cnt - 1];\n  var isOnGuard = isGuard(activeElement);\n\n  // focus is inside\n  if (innerNodes.indexOf(activeElement) >= 0) {\n    return undefined;\n  }\n  var activeIndex = outerNodes.indexOf(activeElement);\n  var lastIndex = outerNodes.indexOf(lastNode || activeIndex);\n  var lastNodeInside = innerNodes.indexOf(lastNode);\n  var indexDiff = activeIndex - lastIndex;\n  var firstNodeIndex = outerNodes.indexOf(firstFocus);\n  var lastNodeIndex = outerNodes.indexOf(lastFocus);\n  var returnFirstNode = pickFocusable(innerNodes, 0);\n  var returnLastNode = pickFocusable(innerNodes, cnt - 1);\n\n  // new focus\n  if (activeIndex === -1 || lastNodeInside === -1) {\n    return innerNodes.indexOf(autoFocused && autoFocused.length ? pickFirstFocus(autoFocused) : pickFirstFocus(innerNodes));\n  }\n  // old focus\n  if (!indexDiff && lastNodeInside >= 0) {\n    return lastNodeInside;\n  }\n  // first element\n  if (activeIndex <= firstNodeIndex && isOnGuard && Math.abs(indexDiff) > 1) {\n    return returnLastNode;\n  }\n  // last element\n  if (activeIndex >= firstNodeIndex && isOnGuard && Math.abs(indexDiff) > 1) {\n    return returnFirstNode;\n  }\n  // jump out, but not on the guard\n  if (indexDiff && Math.abs(indexDiff) > 1) {\n    return lastNodeInside;\n  }\n  // focus above lock\n  if (activeIndex <= firstNodeIndex) {\n    return returnLastNode;\n  }\n  // focus below lock\n  if (activeIndex > lastNodeIndex) {\n    return returnFirstNode;\n  }\n  // index is inside tab order, but outside Lock\n  if (indexDiff) {\n    if (Math.abs(indexDiff) > 1) {\n      return lastNodeInside;\n    }\n    return (cnt + lastNodeInside + indexDiff) % cnt;\n  }\n  // do nothing\n  return undefined;\n};\nvar getTopCommonParent = function getTopCommonParent(baseActiveElement, leftEntry, rightEntries) {\n  var activeElements = asArray(baseActiveElement);\n  var leftEntries = asArray(leftEntry);\n  var activeElement = activeElements[0];\n  var topCommon = null;\n  leftEntries.filter(Boolean).forEach(function (entry) {\n    topCommon = getCommonParent(topCommon || entry, entry) || topCommon;\n    rightEntries.filter(Boolean).forEach(function (subEntry) {\n      var common = getCommonParent(activeElement, subEntry);\n      if (common) {\n        if (!topCommon || common.contains(topCommon)) {\n          topCommon = common;\n        } else {\n          topCommon = getCommonParent(common, topCommon);\n        }\n      }\n    });\n  });\n  return topCommon;\n};\nvar allParentAutofocusables = function allParentAutofocusables(entries) {\n  return entries.reduce(function (acc, node) {\n    return acc.concat(parentAutofocusables(node));\n  }, []);\n};\nvar reorderNodes = function reorderNodes(srcNodes, dstNodes) {\n  var remap = new Map();\n  // no Set(dstNodes) for IE11 :(\n  dstNodes.forEach(function (entity) {\n    return remap.set(entity.node, entity);\n  });\n  // remap to dstNodes\n  return srcNodes.map(function (node) {\n    return remap.get(node);\n  }).filter(Boolean);\n};\nexport var getFocusabledIn = function getFocusabledIn(topNode) {\n  var entries = getAllAffectedNodes(topNode).filter(notAGuard);\n  var commonParent = getTopCommonParent(topNode, topNode, entries);\n  var outerNodes = getTabbableNodes([commonParent], true);\n  var innerElements = getTabbableNodes(entries).filter(function (_ref) {\n    var node = _ref.node;\n    return notAGuard(node);\n  }).map(function (_ref2) {\n    var node = _ref2.node;\n    return node;\n  });\n  return outerNodes.map(function (_ref3) {\n    var node = _ref3.node,\n      index = _ref3.index;\n    return {\n      node: node,\n      index: index,\n      lockItem: innerElements.indexOf(node) >= 0,\n      guard: isGuard(node)\n    };\n  });\n};\nvar getFocusMerge = function getFocusMerge(topNode, lastNode) {\n  var activeElement = document && document.activeElement;\n  var entries = getAllAffectedNodes(topNode).filter(notAGuard);\n  var commonParent = getTopCommonParent(activeElement || topNode, topNode, entries);\n  var innerElements = getTabbableNodes(entries).filter(function (_ref4) {\n    var node = _ref4.node;\n    return notAGuard(node);\n  });\n  if (!innerElements[0]) {\n    innerElements = getAllTabbableNodes(entries).filter(function (_ref5) {\n      var node = _ref5.node;\n      return notAGuard(node);\n    });\n    if (!innerElements[0]) {\n      return undefined;\n    }\n  }\n  var outerNodes = getTabbableNodes([commonParent]).map(function (_ref6) {\n    var node = _ref6.node;\n    return node;\n  });\n  var orderedInnerElements = reorderNodes(outerNodes, innerElements);\n  var innerNodes = orderedInnerElements.map(function (_ref7) {\n    var node = _ref7.node;\n    return node;\n  });\n  var newId = newFocus(innerNodes, outerNodes, activeElement, lastNode, innerNodes.filter(findAutoFocused(allParentAutofocusables(entries))));\n  if (newId === undefined) {\n    return newId;\n  }\n  return orderedInnerElements[newId];\n};\nexport default getFocusMerge;","import getFocusMerge from './focusMerge';\nexport var focusOn = function focusOn(target) {\n  target.focus();\n  if (target.contentWindow) {\n    target.contentWindow.focus();\n  }\n};\nvar guardCount = 0;\nvar lockDisabled = false;\nexport default (function (topNode, lastNode) {\n  var focusable = getFocusMerge(topNode, lastNode);\n  if (lockDisabled) {\n    return;\n  }\n  if (focusable) {\n    if (guardCount > 2) {\n      // eslint-disable-next-line no-console\n      console.error('FocusLock: focus-fighting detected. Only one focus management system could be active. ' + 'See https://github.com/theKashey/focus-lock/#focus-fighting');\n      lockDisabled = true;\n      setTimeout(function () {\n        lockDisabled = false;\n      }, 1);\n      return;\n    }\n    guardCount++;\n    focusOn(focusable.node);\n    guardCount--;\n  }\n});","import tabHook from './tabHook';\nimport focusMerge, { getFocusabledIn } from './focusMerge';\nimport focusInside from './focusInside';\nimport focusIsHidden from './focusIsHidden';\nimport setFocus from './setFocus';\nimport * as constants from './constants';\nimport getAllAffectedNodes from './utils/all-affected';\nexport { tabHook, focusInside, focusIsHidden, focusMerge, getFocusabledIn, constants, getAllAffectedNodes };\nexport default setFocus;","import _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport React, { PureComponent } from 'react';\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (typeof reducePropsToState !== 'function') {\n      throw new Error('Expected reducePropsToState to be a function.');\n    }\n    if (typeof handleStateChangeOnClient !== 'function') {\n      throw new Error('Expected handleStateChangeOnClient to be a function.');\n    }\n  }\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n  return function wrap(WrappedComponent) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (typeof WrappedComponent !== 'function') {\n        throw new Error('Expected WrappedComponent to be a React component.');\n      }\n    }\n    var mountedInstances = [];\n    var state;\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n      handleStateChangeOnClient(state);\n    }\n    var SideEffect = /*#__PURE__*/function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      }\n\n      // Try to use displayName of wrapped component\n      SideEffect.peek = function peek() {\n        return state;\n      };\n      var _proto = SideEffect.prototype;\n      _proto.componentDidMount = function componentDidMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n      _proto.render = function render() {\n        return /*#__PURE__*/React.createElement(WrappedComponent, this.props);\n      };\n      return SideEffect;\n    }(PureComponent);\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n    return SideEffect;\n  };\n}\nexport default withSideEffect;","import { toArray } from './utils/array';\nimport { FOCUS_ALLOW } from './constants';\nvar focusIsHidden = function focusIsHidden() {\n  return document && toArray(document.querySelectorAll('[' + FOCUS_ALLOW + ']')).some(function (node) {\n    return node.contains(document.activeElement);\n  });\n};\nexport default focusIsHidden;","import getAllAffectedNodes from './utils/all-affected';\nimport { arrayFind, toArray } from './utils/array';\nvar focusInFrame = function focusInFrame(frame) {\n  return frame === document.activeElement;\n};\nvar focusInsideIframe = function focusInsideIframe(topNode) {\n  return !!arrayFind(toArray(topNode.querySelectorAll('iframe')), focusInFrame);\n};\nvar focusInside = function focusInside(topNode) {\n  var activeElement = document && document.activeElement;\n  if (!activeElement || activeElement.dataset && activeElement.dataset.focusGuard) {\n    return false;\n  }\n  return getAllAffectedNodes(topNode).reduce(function (result, node) {\n    return result || node.contains(activeElement) || focusInsideIframe(node);\n  }, false);\n};\nexport default focusInside;","export function deferAction(action) {\n  // Hidding setImmediate from Webpack to avoid inserting polyfill\n  var setImmediate = window.setImmediate;\n  if (typeof setImmediate !== 'undefined') {\n    setImmediate(action);\n  } else {\n    setTimeout(action, 1);\n  }\n}\nexport var inlineProp = function inlineProp(name, value) {\n  var obj = {};\n  obj[name] = value;\n  return obj;\n};","import React from 'react';\nimport withSideEffect from 'react-clientside-effect';\nimport moveFocusInside, { focusInside, focusIsHidden, getFocusabledIn } from 'focus-lock';\nimport { deferAction } from './util';\nvar focusOnBody = function focusOnBody() {\n  return document && document.activeElement === document.body;\n};\nvar isFreeFocus = function isFreeFocus() {\n  return focusOnBody() || focusIsHidden();\n};\nvar lastActiveTrap = null;\nvar lastActiveFocus = null;\nvar lastPortaledElement = null;\nvar focusWasOutsideWindow = false;\nvar defaultWhitelist = function defaultWhitelist() {\n  return true;\n};\nvar focusWhitelisted = function focusWhitelisted(activeElement) {\n  return (lastActiveTrap.whiteList || defaultWhitelist)(activeElement);\n};\nvar recordPortal = function recordPortal(observerNode, portaledElement) {\n  lastPortaledElement = {\n    observerNode: observerNode,\n    portaledElement: portaledElement\n  };\n};\nvar focusIsPortaledPair = function focusIsPortaledPair(element) {\n  return lastPortaledElement && lastPortaledElement.portaledElement === element;\n};\nfunction autoGuard(startIndex, end, step, allNodes) {\n  var lastGuard = null;\n  var i = startIndex;\n  do {\n    var item = allNodes[i];\n    if (item.guard) {\n      if (item.node.dataset.focusAutoGuard) {\n        lastGuard = item;\n      }\n    } else if (item.lockItem) {\n      if (i !== startIndex) {\n        // we will tab to the next element\n        return;\n      }\n      lastGuard = null;\n    } else {\n      break;\n    }\n  } while ((i += step) !== end);\n  if (lastGuard) {\n    lastGuard.node.tabIndex = 0;\n  }\n}\nvar extractRef = function extractRef(ref) {\n  return ref && 'current' in ref ? ref.current : ref;\n};\nvar activateTrap = function activateTrap() {\n  var result = false;\n  if (lastActiveTrap) {\n    var _lastActiveTrap = lastActiveTrap,\n      observed = _lastActiveTrap.observed,\n      persistentFocus = _lastActiveTrap.persistentFocus,\n      autoFocus = _lastActiveTrap.autoFocus,\n      shards = _lastActiveTrap.shards;\n    var workingNode = observed || lastPortaledElement && lastPortaledElement.portaledElement;\n    var activeElement = document && document.activeElement;\n    if (workingNode) {\n      var workingArea = [workingNode].concat(shards.map(extractRef).filter(Boolean));\n      if (!activeElement || focusWhitelisted(activeElement)) {\n        if (persistentFocus || focusWasOutsideWindow || !isFreeFocus() || !lastActiveFocus && autoFocus) {\n          if (workingNode && !(focusInside(workingArea) || focusIsPortaledPair(activeElement, workingNode))) {\n            if (document && !lastActiveFocus && activeElement && !autoFocus) {\n              activeElement.blur();\n              document.body.focus();\n            } else {\n              result = moveFocusInside(workingArea, lastActiveFocus);\n              lastPortaledElement = {};\n            }\n          }\n          focusWasOutsideWindow = false;\n          lastActiveFocus = document && document.activeElement;\n        }\n      }\n      if (document) {\n        var newActiveElement = document && document.activeElement;\n        var allNodes = getFocusabledIn(workingArea);\n        var focusedItem = allNodes.find(function (_ref) {\n          var node = _ref.node;\n          return node === newActiveElement;\n        });\n        if (focusedItem) {\n          // remove old focus\n          allNodes.filter(function (_ref2) {\n            var guard = _ref2.guard,\n              node = _ref2.node;\n            return guard && node.dataset.focusAutoGuard;\n          }).forEach(function (_ref3) {\n            var node = _ref3.node;\n            return node.removeAttribute('tabIndex');\n          });\n          var focusedIndex = allNodes.indexOf(focusedItem);\n          autoGuard(focusedIndex, allNodes.length, +1, allNodes);\n          autoGuard(focusedIndex, -1, -1, allNodes);\n        }\n      }\n    }\n  }\n  return result;\n};\nvar onTrap = function onTrap(event) {\n  if (activateTrap() && event) {\n    // prevent scroll jump\n    event.stopPropagation();\n    event.preventDefault();\n  }\n};\nexport var onBlur = function onBlur() {\n  return deferAction(activateTrap);\n};\nexport var onFocus = function onFocus(event) {\n  // detect portal\n  var source = event.target;\n  var currentNode = event.currentTarget;\n  if (!currentNode.contains(source)) {\n    recordPortal(currentNode, source);\n  }\n};\nvar FocusWatcher = function FocusWatcher() {\n  return null;\n};\nvar FocusTrap = function FocusTrap(_ref4) {\n  var children = _ref4.children;\n  return React.createElement(\"div\", {\n    onBlur: onBlur,\n    onFocus: onFocus\n  }, children);\n};\nvar onWindowBlur = function onWindowBlur() {\n  focusWasOutsideWindow = true;\n};\nvar attachHandler = function attachHandler() {\n  document.addEventListener('focusin', onTrap, true);\n  document.addEventListener('focusout', onBlur);\n  window.addEventListener('blur', onWindowBlur);\n};\nvar detachHandler = function detachHandler() {\n  document.removeEventListener('focusin', onTrap, true);\n  document.removeEventListener('focusout', onBlur);\n  window.removeEventListener('blur', onWindowBlur);\n};\nfunction reducePropsToState(propsList) {\n  return propsList.filter(function (_ref5) {\n    var disabled = _ref5.disabled;\n    return !disabled;\n  }).slice(-1)[0];\n}\nfunction handleStateChangeOnClient(trap) {\n  if (trap && !lastActiveTrap) {\n    attachHandler();\n  }\n  var lastTrap = lastActiveTrap;\n  var sameTrap = lastTrap && trap && trap.onActivation === lastTrap.onActivation;\n  lastActiveTrap = trap;\n  if (lastTrap && !sameTrap) {\n    lastTrap.onDeactivation();\n  }\n  if (trap) {\n    lastActiveFocus = null;\n    if (!sameTrap || lastTrap.observed !== trap.observed) {\n      trap.onActivation();\n    }\n    activateTrap(true);\n    deferAction(activateTrap);\n  } else {\n    detachHandler();\n    lastActiveFocus = null;\n  }\n}\nexport default withSideEffect(reducePropsToState, handleStateChangeOnClient)(FocusWatcher);","import React from 'react';\nexport var hiddenGuard = {\n  width: '1px',\n  height: '0px',\n  padding: 0,\n  overflow: 'hidden',\n  position: 'fixed',\n  top: '1px',\n  left: '1px'\n};\nvar InFocusGuard = function InFocusGuard(_ref) {\n  var children = _ref.children;\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    key: \"guard-first\",\n    \"data-focus-guard\": true,\n    \"data-focus-auto-guard\": true,\n    style: hiddenGuard\n  }), children, children && React.createElement(\"div\", {\n    key: \"guard-last\",\n    \"data-focus-guard\": true,\n    \"data-focus-auto-guard\": true,\n    style: hiddenGuard\n  }));\n};\nInFocusGuard.defaultProps = {\n  children: null\n};\nexport default InFocusGuard;","import _extends from \"@babel/runtime/helpers/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport React, { Component } from 'react';\nimport { constants } from 'focus-lock';\nimport FocusTrap, { onBlur, onFocus } from './Trap';\nimport { hiddenGuard } from './FocusGuard';\nvar RenderChildren = function RenderChildren(_ref) {\n  var children = _ref.children;\n  return React.createElement(\"div\", null, children);\n};\nvar Fragment = React.Fragment ? React.Fragment : RenderChildren;\nvar emptyArray = [];\nvar FocusLock = /*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(FocusLock, _Component);\n  function FocusLock() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n      observed: undefined\n    });\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onActivation\", function () {\n      _this.originalFocusedElement = _this.originalFocusedElement || document && document.activeElement;\n      if (_this.state.observed && _this.props.onActivation) {\n        _this.props.onActivation(_this.state.observed);\n      }\n      _this.isActive = true;\n    });\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onDeactivation\", function () {\n      _this.isActive = false;\n      if (_this.props.returnFocus && _this.originalFocusedElement && _this.originalFocusedElement.focus) {\n        _this.originalFocusedElement.focus();\n        _this.originalFocusedElement = null;\n      }\n      if (_this.props.onDeactivation) {\n        _this.props.onDeactivation(_this.state.observed);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onFocus\", function (event) {\n      if (_this.isActive) {\n        onFocus(event);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onBlur\", onBlur);\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"setObserveNode\", function (observed) {\n      if (_this.state.observed !== observed) {\n        _this.setState({\n          observed: observed\n        });\n      }\n    });\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"isActive\", false);\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"originalFocusedElement\", null);\n    return _this;\n  }\n  var _proto = FocusLock.prototype;\n  _proto.render = function render() {\n    var _extends2;\n    var _this$props = this.props,\n      children = _this$props.children,\n      disabled = _this$props.disabled,\n      noFocusGuards = _this$props.noFocusGuards,\n      persistentFocus = _this$props.persistentFocus,\n      autoFocus = _this$props.autoFocus,\n      allowTextSelection = _this$props.allowTextSelection,\n      group = _this$props.group,\n      className = _this$props.className,\n      whiteList = _this$props.whiteList,\n      _this$props$shards = _this$props.shards,\n      shards = _this$props$shards === void 0 ? emptyArray : _this$props$shards,\n      _this$props$as = _this$props.as,\n      Container = _this$props$as === void 0 ? 'div' : _this$props$as,\n      _this$props$lockProps = _this$props.lockProps,\n      containerProps = _this$props$lockProps === void 0 ? {} : _this$props$lockProps;\n    var observed = this.state.observed;\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof allowTextSelection !== 'undefined') {\n        // eslint-disable-next-line no-console\n        console.warn('React-Focus-Lock: allowTextSelection is deprecated and enabled by default');\n      }\n    }\n    var lockProps = _extends((_extends2 = {}, _extends2[constants.FOCUS_DISABLED] = disabled && 'disabled', _extends2[constants.FOCUS_GROUP] = group, _extends2), containerProps);\n    var hasLeadingGuards = noFocusGuards !== true;\n    var hasTailingGuards = hasLeadingGuards && noFocusGuards !== 'tail';\n    return React.createElement(Fragment, null, hasLeadingGuards && [React.createElement(\"div\", {\n      key: \"guard-first\",\n      \"data-focus-guard\": true,\n      tabIndex: disabled ? -1 : 0,\n      style: hiddenGuard\n    }),\n    // nearest focus guard\n    React.createElement(\"div\", {\n      key: \"guard-nearest\",\n      \"data-focus-guard\": true,\n      tabIndex: disabled ? -1 : 1,\n      style: hiddenGuard\n    })], React.createElement(Container, _extends({\n      ref: this.setObserveNode\n    }, lockProps, {\n      className: className,\n      onBlur: this.onBlur,\n      onFocus: this.onFocus\n    }), React.createElement(FocusTrap, {\n      observed: observed,\n      disabled: disabled,\n      persistentFocus: persistentFocus,\n      autoFocus: autoFocus,\n      whiteList: whiteList,\n      shards: shards,\n      onActivation: this.onActivation,\n      onDeactivation: this.onDeactivation\n    }), children), hasTailingGuards && React.createElement(\"div\", {\n      \"data-focus-guard\": true,\n      tabIndex: disabled ? -1 : 0,\n      style: hiddenGuard\n    }));\n  };\n  return FocusLock;\n}(Component);\nFocusLock.defaultProps = {\n  disabled: false,\n  returnFocus: false,\n  noFocusGuards: false,\n  autoFocus: true,\n  persistentFocus: false,\n  allowTextSelection: undefined,\n  group: undefined,\n  className: undefined,\n  whiteList: undefined,\n  shards: undefined,\n  as: 'div',\n  lockProps: {},\n  onActivation: undefined,\n  onDeactivation: undefined\n};\nexport default FocusLock;","import FocusLock from './Lock';\nimport AutoFocusInside from './AutoFocusInside';\nimport MoveFocusInside from './MoveFocusInside';\nimport FreeFocusInside from './FreeFocusInside';\nimport InFocusGuard from './FocusGuard';\nexport { AutoFocusInside, MoveFocusInside, FreeFocusInside, InFocusGuard };\nexport default FocusLock;","function makeStyleTag() {\n  if (!document) return null;\n  var tag = document.createElement('style');\n  tag.type = 'text/css';\n  return tag;\n}\nfunction injectStyles(tag, css) {\n  if (tag.styleSheet) {\n    tag.styleSheet.cssText = css;\n  } else {\n    tag.appendChild(document.createTextNode(css));\n  }\n}\nfunction insertStyleTag(tag) {\n  var head = document.head || document.getElementsByTagName('head')[0];\n  head.appendChild(tag);\n}\nexport var stylesheetSinglentone = function () {\n  var counter = 0;\n  var stylesheet = null;\n  return {\n    add: function (style) {\n      if (counter == 0) {\n        if (stylesheet = makeStyleTag()) {\n          injectStyles(stylesheet, style);\n          insertStyleTag(stylesheet);\n        }\n      }\n      counter++;\n    },\n    remove: function () {\n      counter--;\n      if (!counter && stylesheet) {\n        stylesheet.parentNode && stylesheet.parentNode.removeChild(stylesheet);\n        stylesheet = null;\n      }\n    }\n  };\n};","import * as tslib_1 from \"tslib\";\nimport * as React from 'react';\nimport { stylesheetSinglentone } from \"./singlentone\";\nexport var styleSinglentone = function () {\n  var sheet = stylesheetSinglentone();\n  return function (_super) {\n    tslib_1.__extends(Sheet, _super);\n    function Sheet() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Sheet.prototype.componentDidMount = function () {\n      sheet.add(this.props.styles);\n    };\n    Sheet.prototype.componentWillUnmount = function () {\n      sheet.remove();\n    };\n    Sheet.prototype.render = function () {\n      return null;\n    };\n    return Sheet;\n  }(React.PureComponent);\n};","export var zeroGap = {\n  left: 0,\n  top: 0,\n  right: 0,\n  gap: 0\n};\nvar parse = function (x) {\n  return parseInt(x || '', 10) || 0;\n};\nvar getOffset = function (gapMode) {\n  var cs = window.getComputedStyle(document.body);\n  var left = cs[gapMode === 'padding' ? 'paddingLeft' : 'marginLeft'];\n  var top = cs[gapMode === 'padding' ? 'paddingTop' : 'marginTop'];\n  var right = cs[gapMode === 'padding' ? 'paddingRight' : 'marginRight'];\n  return [parse(left), parse(top), parse(right)];\n};\nexport var getGapWidth = function (gapMode) {\n  if (gapMode === void 0) {\n    gapMode = 'margin';\n  }\n  if (typeof window === 'undefined') {\n    return zeroGap;\n  }\n  var offsets = getOffset(gapMode);\n  var documentWidth = document.documentElement.clientWidth;\n  var windowWidth = window.innerWidth;\n  return {\n    left: offsets[0],\n    top: offsets[1],\n    right: offsets[2],\n    gap: Math.max(0, windowWidth - documentWidth + offsets[2] - offsets[0])\n  };\n};","import * as tslib_1 from \"tslib\";\nimport * as React from 'react';\nimport { styleSinglentone } from 'react-style-singleton';\nimport { getGapWidth, zeroGap } from './utils';\nimport { fullWidthClassName, zeroRightClassName, noScrollbarsClassName } from \"./constants\";\n;\nvar Style = styleSinglentone();\nvar getStyles = function (_a, allowRelative, gapMode, important) {\n  var left = _a.left,\n    top = _a.top,\n    right = _a.right,\n    gap = _a.gap;\n  if (gapMode === void 0) {\n    gapMode = 'margin';\n  }\n  return \"\\n  .\" + noScrollbarsClassName + \" {\\n   overflow: hidden \" + important + \";\\n   padding-right: \" + gap + \"px \" + important + \";\\n  }\\n  body {\\n    overflow: hidden \" + important + \";\\n    \" + [allowRelative && \"position: relative \" + important + \";\", gapMode === 'margin' && \"\\n    padding-left: \" + left + \"px;\\n    padding-top: \" + top + \"px;\\n    padding-right: \" + right + \"px;\\n    margin-left:0;\\n    margin-top:0;\\n    margin-right: \" + gap + \"px \" + important + \";\\n    \", gapMode === 'padding' && \"padding-right: \" + gap + \"px \" + important + \";\"].filter(Boolean).join('') + \"\\n  }\\n  \\n  .\" + zeroRightClassName + \" {\\n    right: \" + gap + \"px \" + important + \";\\n  }\\n  \\n  .\" + fullWidthClassName + \" {\\n    margin-right: \" + gap + \"px \" + important + \";\\n  }\\n  \\n  .\" + zeroRightClassName + \" .\" + zeroRightClassName + \" {\\n    right: 0 \" + important + \";\\n  }\\n  \\n  .\" + fullWidthClassName + \" .\" + fullWidthClassName + \" {\\n    margin-right: 0 \" + important + \";\\n  }\\n\";\n};\nvar RemoveScrollBar = function (_super) {\n  tslib_1.__extends(RemoveScrollBar, _super);\n  function RemoveScrollBar() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.state = {\n      gap: getGapWidth(_this.props.gapMode)\n    };\n    _this.onResize = function () {\n      _this.forceUpdate();\n      if (_this.state.gap && _this.props.dynamic) {\n        if (window.innerHeight > document.body.offsetHeight) {\n          _this.setGap(zeroGap);\n        }\n      }\n    };\n    return _this;\n  }\n  RemoveScrollBar.prototype.componentDidMount = function () {\n    var gap = getGapWidth(this.props.gapMode);\n    if (gap !== this.state.gap) {\n      this.setGap(gap);\n    }\n    if (typeof window !== 'undefined') {\n      window.addEventListener('resize', this.onResize);\n    }\n  };\n  RemoveScrollBar.prototype.componentWillUnmount = function () {\n    if (typeof window !== 'undefined') {\n      window.removeEventListener('resize', this.onResize);\n    }\n  };\n  RemoveScrollBar.prototype.componentDidUpdate = function () {\n    if (!this.state.gap) {\n      var gap = getGapWidth(this.props.gapMode);\n      if (gap !== this.state.gap) {\n        this.setGap(gap);\n      }\n    }\n  };\n  RemoveScrollBar.prototype.setGap = function (gap) {\n    this.setState({\n      gap: gap\n    });\n  };\n  RemoveScrollBar.prototype.render = function () {\n    var _a = this.props,\n      noRelative = _a.noRelative,\n      noImportant = _a.noImportant,\n      _b = _a.gapMode,\n      gapMode = _b === void 0 ? 'margin' : _b;\n    var gap = this.state.gap;\n    return React.createElement(Style, {\n      styles: getStyles(gap, !noRelative, gapMode, !noImportant ? \"!important\" : '')\n    });\n  };\n  return RemoveScrollBar;\n}(React.Component);\nexport { RemoveScrollBar };","var elementCouldBeScrolled = function (node) {\n  var styles = window.getComputedStyle(node);\n  return styles.overflowY !== 'hidden' && !(styles.overflowY === styles.overflowX && styles.overflowY === 'visible');\n};\nexport var handleScroll = function (endTarget, event, sourceDelta) {\n  var delta = sourceDelta;\n  var target = event.target;\n  var targetInLock = endTarget.contains(target);\n  var shouldCancelScroll = false;\n  var isDeltaPositive = delta > 0;\n  var availableScroll = 0;\n  var availableScrollTop = 0;\n  do {\n    var scrollTop = target.scrollTop,\n      scrollHeight = target.scrollHeight,\n      clientHeight = target.clientHeight;\n    var elementScroll = scrollHeight - clientHeight - scrollTop;\n    if (scrollTop || elementScroll) {\n      if (elementCouldBeScrolled(target)) {\n        availableScroll += elementScroll;\n        availableScrollTop += scrollTop;\n      }\n    }\n    target = target.parentNode;\n  } while (!targetInLock && target !== document.body || targetInLock && (endTarget.contains(target) || endTarget === target));\n  if (isDeltaPositive && delta > availableScroll) {\n    shouldCancelScroll = true;\n  } else if (!isDeltaPositive && -delta > availableScrollTop) {\n    shouldCancelScroll = true;\n  }\n  return shouldCancelScroll;\n};","var passiveSupported = false;\nif (typeof window !== 'undefined') {\n  try {\n    var options = Object.defineProperty({}, 'passive', {\n      get: function () {\n        passiveSupported = true;\n        return true;\n      }\n    });\n    window.addEventListener('test', options, options);\n    window.removeEventListener('test', options, options);\n  } catch (err) {\n    passiveSupported = false;\n  }\n}\nexport var aggressive = passiveSupported ? {\n  passive: false\n} : false;","import * as tslib_1 from \"tslib\";\nimport * as React from 'react';\nimport { RemoveScrollBar, fullWidthClassName, zeroRightClassName } from 'react-remove-scroll-bar';\nimport { handleScroll } from \"./handleScroll\";\nimport { aggressive } from './aggresiveCapture';\nexport var getTouchY = function (event) {\n  return event.changedTouches ? event.changedTouches[0].clientY : 0;\n};\nvar classNames = {\n  fullWidth: fullWidthClassName,\n  zeroRight: zeroRightClassName\n};\nvar extractRef = function (ref) {\n  return ref && 'current' in ref ? ref.current : ref;\n};\nvar RemoveScroll = function (_super) {\n  tslib_1.__extends(RemoveScroll, _super);\n  function RemoveScroll() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.shouldPreventQueue = [];\n    _this.touchStart = 0;\n    _this.ref = React.createRef();\n    _this.shouldPrevent = function (event) {\n      var stack = RemoveScroll.stack.filter(function (el) {\n        return el.props.enabled;\n      });\n      if (!stack.length || stack[stack.length - 1] !== _this) {\n        return;\n      }\n      var delta = event.deltaY || getTouchY(event);\n      var sourceEvent = _this.shouldPreventQueue.filter(function (e) {\n        return e.name === event.type && e.delta === delta && e.target === event.target;\n      })[0];\n      if (sourceEvent && sourceEvent.should) {\n        event.preventDefault();\n        return;\n      }\n      if (!sourceEvent) {\n        var shardNodes = (_this.props.shards || []).map(extractRef).filter(Boolean).filter(function (node) {\n          return node.contains(event.target);\n        });\n        var shouldStop = shardNodes.length > 0 ? _this.shouldCancelEvent(event, shardNodes[0]) : !_this.props.noIsolation;\n        if (shouldStop) {\n          event.preventDefault();\n        }\n      }\n    };\n    _this.shouldCancel = function (name, delta, target, should) {\n      var event = {\n        name: name,\n        delta: delta,\n        target: target,\n        should: should\n      };\n      _this.shouldPreventQueue.push(event);\n      setTimeout(function () {\n        _this.shouldPreventQueue = _this.shouldPreventQueue.filter(function (e) {\n          return e !== event;\n        });\n      }, 1);\n    };\n    _this.scrollTouchStart = function (event) {\n      _this.touchStart = getTouchY(event);\n    };\n    _this.scrollWheel = function (event) {\n      _this.shouldCancel(event.type, event.deltaY, event.target, _this.shouldCancelEvent(event, _this.ref.current));\n    };\n    _this.scrollTouchMove = function (event) {\n      _this.shouldCancel(event.type, getTouchY(event), event.target, _this.shouldCancelEvent(event, _this.ref.current));\n    };\n    return _this;\n  }\n  RemoveScroll.prototype.componentDidMount = function () {\n    RemoveScroll.stack.push(this);\n    this.componentDidUpdate({\n      enabled: false\n    });\n  };\n  RemoveScroll.prototype.componentWillUnmount = function () {\n    var _this = this;\n    RemoveScroll.stack = RemoveScroll.stack.filter(function (inst) {\n      return inst !== _this;\n    });\n    this.disable();\n  };\n  RemoveScroll.prototype.componentDidUpdate = function (oldProps) {\n    if (oldProps.enabled !== this.props.enabled) {\n      if (this.props.enabled) {\n        this.enable();\n      } else {\n        this.disable();\n      }\n    }\n  };\n  RemoveScroll.prototype.enable = function () {\n    if (typeof document !== 'undefined') {\n      document.addEventListener('wheel', this.shouldPrevent, aggressive);\n      document.addEventListener('touchmove', this.shouldPrevent, aggressive);\n      document.addEventListener('touchstart', this.scrollTouchStart, aggressive);\n    }\n  };\n  RemoveScroll.prototype.disable = function () {\n    if (typeof window !== 'undefined') {\n      document.removeEventListener('wheel', this.shouldPrevent, aggressive);\n      document.removeEventListener('touchmove', this.shouldPrevent, aggressive);\n      document.removeEventListener('touchstart', this.scrollTouchStart, aggressive);\n    }\n  };\n  RemoveScroll.prototype.shouldCancelEvent = function (event, parent) {\n    switch (event.type) {\n      case 'wheel':\n      case 'scroll':\n        return handleScroll(parent, event, event.deltaY);\n      case 'touchmove':\n        return handleScroll(parent, event, this.touchStart - getTouchY(event));\n    }\n    return false;\n  };\n  ;\n  RemoveScroll.prototype.render = function () {\n    var _a = this.props,\n      forwardProps = _a.forwardProps,\n      children = _a.children,\n      className = _a.className,\n      removeScrollBar = _a.removeScrollBar,\n      enabled = _a.enabled;\n    var props = {\n      ref: this.ref,\n      onScrollCapture: this.scrollWheel,\n      onWheelCapture: this.scrollWheel,\n      onTouchMoveCapture: this.scrollTouchMove\n    };\n    return React.createElement(React.Fragment, null, removeScrollBar && enabled && React.createElement(RemoveScrollBar, {\n      gapMode: \"margin\"\n    }), forwardProps ? React.cloneElement(React.Children.only(children), props) : React.createElement(\"div\", tslib_1.__assign({}, props, {\n      className: className\n    }), children));\n  };\n  RemoveScroll.classNames = classNames;\n  RemoveScroll.defaultProps = {\n    enabled: true,\n    removeScrollBar: true\n  };\n  RemoveScroll.stack = [];\n  return RemoveScroll;\n}(React.Component);\nexport { RemoveScroll };","export var zeroRightClassName = 'right-scroll-bar-position';\nexport var fullWidthClassName = 'width-before-scroll-bar';\nexport var noScrollbarsClassName = 'with-scroll-bars-hidden';","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n  return target;\n}\nimport React from \"react\";\nimport Component from \"@reach/component-component\";\nimport Portal from \"@reach/portal\";\nimport { checkStyles, wrapEvent, assignRef } from \"@reach/utils\";\nimport FocusLock from \"react-focus-lock\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nvar createAriaHider = function createAriaHider(dialogNode) {\n  var originalValues = [];\n  var rootNodes = [];\n  Array.prototype.forEach.call(document.querySelectorAll(\"body > *\"), function (node) {\n    var portalNode = dialogNode.parentNode.parentNode.parentNode;\n    if (node === portalNode) {\n      return;\n    }\n    var attr = node.getAttribute(\"aria-hidden\");\n    var alreadyHidden = attr !== null && attr !== \"false\";\n    if (alreadyHidden) {\n      return;\n    }\n    originalValues.push(attr);\n    rootNodes.push(node);\n    node.setAttribute(\"aria-hidden\", \"true\");\n  });\n  return function () {\n    rootNodes.forEach(function (node, index) {\n      var originalValue = originalValues[index];\n      if (originalValue === null) {\n        node.removeAttribute(\"aria-hidden\");\n      } else {\n        node.setAttribute(\"aria-hidden\", originalValue);\n      }\n    });\n  };\n};\nvar k = function k() {};\nvar checkDialogStyles = function checkDialogStyles() {\n  return checkStyles(\"dialog\");\n};\nvar portalDidMount = function portalDidMount(refs) {\n  refs.disposeAriaHider = createAriaHider(refs.overlayNode);\n};\nvar contentWillUnmount = function contentWillUnmount(_ref) {\n  var refs = _ref.refs;\n  refs.disposeAriaHider();\n};\nvar FocusContext = React.createContext();\nvar DialogOverlay = React.forwardRef(function (_ref2, forwardedRef) {\n  var _ref2$isOpen = _ref2.isOpen,\n    isOpen = _ref2$isOpen === undefined ? true : _ref2$isOpen,\n    _ref2$onDismiss = _ref2.onDismiss,\n    onDismiss = _ref2$onDismiss === undefined ? k : _ref2$onDismiss,\n    initialFocusRef = _ref2.initialFocusRef,\n    onClick = _ref2.onClick,\n    onKeyDown = _ref2.onKeyDown,\n    props = _objectWithoutProperties(_ref2, [\"isOpen\", \"onDismiss\", \"initialFocusRef\", \"onClick\", \"onKeyDown\"]);\n  return React.createElement(Component, {\n    didMount: checkDialogStyles\n  }, isOpen ? React.createElement(Portal, {\n    \"data-reach-dialog-wrapper\": true\n  }, React.createElement(Component, {\n    refs: {\n      overlayNode: null\n    },\n    didMount: function didMount(_ref3) {\n      var refs = _ref3.refs;\n      portalDidMount(refs);\n    },\n    willUnmount: contentWillUnmount\n  }, function (_ref4) {\n    var refs = _ref4.refs;\n    return React.createElement(FocusLock, {\n      returnFocus: true,\n      onActivation: function onActivation() {\n        if (initialFocusRef) {\n          initialFocusRef.current.focus();\n        }\n      }\n    }, React.createElement(RemoveScroll, null, React.createElement(\"div\", _extends({\n      \"data-reach-dialog-overlay\": true,\n      onClick: wrapEvent(onClick, function (event) {\n        event.stopPropagation();\n        onDismiss();\n      }),\n      onKeyDown: wrapEvent(onKeyDown, function (event) {\n        if (event.key === \"Escape\") {\n          event.stopPropagation();\n          onDismiss();\n        }\n      }),\n      ref: function ref(node) {\n        refs.overlayNode = node;\n        assignRef(forwardedRef, node);\n      }\n    }, props))));\n  })) : null);\n});\nvar stopPropagation = function stopPropagation(event) {\n  return event.stopPropagation();\n};\nvar DialogContent = React.forwardRef(function (_ref5, forwardedRef) {\n  var onClick = _ref5.onClick,\n    onKeyDown = _ref5.onKeyDown,\n    props = _objectWithoutProperties(_ref5, [\"onClick\", \"onKeyDown\"]);\n  return React.createElement(\"div\", _extends({\n    \"aria-modal\": \"true\",\n    \"data-reach-dialog-content\": true,\n    tabIndex: \"-1\",\n    onClick: wrapEvent(onClick, stopPropagation),\n    ref: function ref(node) {\n      assignRef(forwardedRef, node);\n    }\n  }, props));\n});\nvar Dialog = function Dialog(_ref6) {\n  var isOpen = _ref6.isOpen,\n    _ref6$onDismiss = _ref6.onDismiss,\n    onDismiss = _ref6$onDismiss === undefined ? k : _ref6$onDismiss,\n    initialFocusRef = _ref6.initialFocusRef,\n    props = _objectWithoutProperties(_ref6, [\"isOpen\", \"onDismiss\", \"initialFocusRef\"]);\n  return React.createElement(DialogOverlay, {\n    isOpen: isOpen,\n    onDismiss: onDismiss,\n    initialFocusRef: initialFocusRef\n  }, React.createElement(DialogContent, props));\n};\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport { DialogOverlay, DialogContent, Dialog };","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\nimport React from \"react\";\nvar style = {\n  border: 0,\n  clip: \"rect(0 0 0 0)\",\n  height: \"1px\",\n  width: \"1px\",\n  margin: \"-1px\",\n  padding: 0,\n  overflow: \"hidden\",\n  position: \"absolute\"\n};\nexport default (function (props) {\n  return React.createElement(\"div\", _extends({\n    style: style\n  }, props));\n});","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Close } from './modal.css';\nimport { Dialog, DialogOverlay, DialogContent } from '@reach/dialog';\nimport VisuallyHidden from '@reach/visually-hidden';\n\nimport '@reach/dialog/styles.css';\n\n// This component is here only to to showcase the\n// React Context integration. No need to keep this if\n// you don't require a Modal in your project.\nexport default class Modal extends PureComponent {\n  componentDidMount() {\n    document.addEventListener('keydown', this.onKeyDown);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.onKeyDown);\n  }\n\n  onKeyDown = ({ key }) => {\n    if (key === 'Escape') {\n      this.props.open && this.props.hideModal();\n    }\n  };\n\n  disableScrolling(open) {\n    // Disables scrolling when the modal is open, as suggested by\n    // https://www.w3.org/TR/2017/NOTE-wai-aria-practices-1.1-20171214/examples/dialog-modal/dialog.html\n    if (open) {\n      document.body.style.overflow = 'hidden';\n      document.documentElement.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = null;\n      document.documentElement.style.overflow = null;\n    }\n  }\n\n  hideWindow = () => {\n    this.props.hideModal()\n    this.props.onClose()\n  }\n\n  showWindow = (showModal, onClick) => {\n    this.props.showModal()\n    this.props.onClick()\n  }\n\n  render() {\n    const { children, open, showModal, hideModal, onClose, styleProps, onClick } = this.props;\n    if (typeof document !== 'undefined') {\n      this.disableScrolling(open);\n    }\n    const updateChildrenWithProps = React.Children.map(\n      this.props.children,\n      (child, i) => {\n        return React.cloneElement(child, {\n        //this properties are available as a props in child components\n          showWindow: this.showWindow\n        });\n      }\n    );\n\n    return (\n      <div onClick={this.showWindow} style={{display: 'inline-block'}}>\n        <Button\n          padding={0}\n          onClick={this.showWindow} >\n          {this.props.button ? this.props.button : '   -->' }\n        </Button>\n\n        <DialogOverlay onDismiss={this.hideWindow} isOpen={open} onClick={this.hideWindow} >\n          <DialogContent style={{width: '70vw', marginTop: '15vh', position: 'relative'}}>\n            <>\n          <Close onClick={this.hideWindow}>\n\n            <VisuallyHidden>Close</VisuallyHidden>\n            <span aria-hidden ></span>\n          </Close>\n            {updateChildrenWithProps }\n            </>\n          </DialogContent>\n        </DialogOverlay>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Consumer } from 'store/createContext';\nimport Modal from 'components/modal';\n\nconst ModalContainer = ({ children, button, styleProps, opened, onClick, showModals, hideModals }) => (\n  <Consumer>\n    {({ open, showModal, hideModal }) => (\n      <Modal\n        button={button}\n        open={typeof opened !== 'undefined' ? opened : open}\n        styleProps={styleProps}\n        showModal={showModal}\n        onClick={showModals}\n        hideModal={hideModal}\n        onClose={hideModals}\n      >\n        {children}\n      </Modal>\n    )}\n  </Consumer>\n);\n\nModalContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default ModalContainer;\n"],"sourceRoot":""}